# =============================================================================
# MCP Server OAuth 2.1 Protected Resource - Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# The canonical URL of this MCP server (used for resource identifier in metadata)
SERVER_URL=http://localhost:8000

# Server bind address and port
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# -----------------------------------------------------------------------------
# Authorization Server (Ares) Configuration
# -----------------------------------------------------------------------------

# Ares OAuth endpoints
AUTH_SERVER_AUTHORIZE_URL=https://tecro-api.tecrolabs.dev/ares/api/authorize
AUTH_SERVER_TOKEN_URL=https://tecro-api.tecrolabs.dev/ares/api/login
AUTH_SERVER_REFRESH_URL=https://tecro-api.tecrolabs.dev/ares/api/refresh_token

# Ares issuer identifier (used in Protected Resource Metadata)
AUTH_SERVER_ISSUER=https://tecro-api.tecrolabs.dev/ares

# -----------------------------------------------------------------------------
# JWT Validation Configuration (Auth0)
# -----------------------------------------------------------------------------

# Auth0 JWKS endpoint for signature verification
JWT_JWKS_URL=https://square-test-ttt.us.auth0.com/.well-known/jwks.json

# Expected JWT issuer
JWT_ISSUER=https://square-test-ttt.us.auth0.com/

# Expected JWT audience (Management API)
JWT_AUDIENCE=https://square-test-ttt.us.auth0.com/api/v2/

# Allowed signing algorithms
JWT_ALGORITHMS=["RS256"]

# Namespace for custom claims from Ares
JWT_CUSTOM_CLAIMS_NAMESPACE=https://ares/

# -----------------------------------------------------------------------------
# OAuth Scopes
# -----------------------------------------------------------------------------

# Supported OAuth scopes
SUPPORTED_SCOPES=["openid", "profile", "email", "offline_access"]

# -----------------------------------------------------------------------------
# Otus API Configuration
# -----------------------------------------------------------------------------

# Otus API base URL
OTUS_BASE_URL=https://tecro-api.tecrolabs.dev/otus

# Teams endpoint path
OTUS_TEAMS_ENDPOINT=/teams

# -----------------------------------------------------------------------------
# Fallback OAuth Client Configuration (for manual testing)
# -----------------------------------------------------------------------------

# OAuth client ID (from Auth0/Ares configuration)
OAUTH_CLIENT_ID=

# OAuth redirect URI for the fallback auth flow
OAUTH_REDIRECT_URI=http://localhost:8000/auth/callback
